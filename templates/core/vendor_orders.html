{% extends "base.html" %}
{% block title %}Vendor Orders{% endblock %}
{% block content %}
<h3>Orders Assigned to You</h3>
<table class="table table-striped mt-3">
  <thead>
    <tr>
      <th>ID</th>
      <th>Student</th>
      <th>Status</th>
      <th>Scheduled Time</th>
      <th>Document</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    {% for order in orders %}
      <tr>
        <td>{{ order.id }}</td>
        <td>{{ order.student.username }}</td>
        <td>
          {% if order.status == 'pending' %}
            <span class="badge bg-warning text-dark">{{ order.get_status_display }}</span>
          {% elif order.status == 'in_progress' %}
            <span class="badge bg-primary">{{ order.get_status_display }}</span>
          {% elif order.status == 'done' %}
            <span class="badge bg-success">{{ order.get_status_display }}</span>
          {% endif %}
        </td>
        <td>{{ order.scheduled_time|default:"-" }}</td>
        <td>
          {% if order.document %}
            <a href="{{ order.document.url }}" target="_blank">View</a>
          {% endif %}
        </td>
        <td>
          <a href="{% url 'update_order' order.id %}" class="btn btn-sm btn-primary">Update</a>
        </td>
        

      </tr>
    {% empty %}
      <tr><td colspan="6" class="text-center">No orders found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
